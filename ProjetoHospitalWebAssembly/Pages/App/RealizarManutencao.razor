@page "/manutencoes/realizar/{id}"
@layout LayoutAppManutencao

@if (this.isLoading)
{
    <div class="height-loading d-flex align-items-center justify-content-center">
        <Loading />
    </div>
}
else
{
    <div class="card mt-4 mb-3">
        <div class="card-body d-flex flex-column gap-2">
            <span>Data: @manutencao.DataDeSolicitacao</span>
            <span>Solicitado por: @manutencao.NomeSolicitante</span>
            <span>Contato: @manutencao.ContatoSolicitante</span>
            <span>Solicitado no Turno: @manutencao.Turno</span>
            <span>Setor: @manutencao.SetorNome</span>
            <span>Descrição: @manutencao.Descricao</span>
        </div>
    </div>
    <form>
        <div class="mb-3">
            <label for="nomeExecutante" class="form-label fs-5">Nome do Executante</label>
            <input type="text" class="form-control" id="nomeExecutante" aria-describedby="Nome do Executante" @bind-value="this.manutencao.NomeExecutante">
        </div>
        <div class="mb-3">
            <label for="numeroTelefone" class="form-label fs-5">Número de telefone do Executante</label>
            <input type="tel" class="form-control" id="numeroTelefone" aria-describedby="Número de telefone" disabled="@this.isLoading" @bind-value="this.manutencao.ContatoExecutante" inputmode="numeric" pattern="[0-9]*" maxlength="11" placeholder="Ex: 54987654321">
        </div>
        <div class="mb-3">
            <label for="turnoManutencao" class="form-label fs-5">Turno</label>
            <select class="form-select" id="turnoManutencao" aria-label="Turno da realização da manutenção" disabled="@this.isLoading" @bind="this.manutencao.TurnoExecutante">
                @foreach (var turno in turnos)
                {
                    <option value="@turno">@turno</option>
                }
            </select>
        </div>
        <div class="d-grid col-12">
            <BotaoPrincipal Texto="Finalizar manutenção" OnClick="FinalizarManutencao" Disabled="@this.isLoading" />
        </div>
    </form>
}